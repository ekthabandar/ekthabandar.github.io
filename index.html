<!DOCTYPE html>
<html lang="en-IN">
<head>
  <meta name="google-adsense-account" content="ca-pub-8982574859696705">
  <!-- ═══ GOOGLE ADSENSE ═══ -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8982574859696705" crossorigin="anonymous"></script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//fonts.gstatic.com">

<!-- ═══ PRIMARY SEO ═══ -->
<title>CalcBharat – India's #1 FY 2025-26 Financial Calculator Hub | SIP, EMI, GST, Tax</title>
<meta name="description" content="India's most accurate FY 2025-26 financial calculators – Income Tax, SIP, EMI, GST, PPF, FD, EPF, SSY, Gratuity, Salary Breakup and 20+ more. Strictly FY 2025-26 compliant.">
<meta name="keywords" content="income tax calculator FY 2025-26, SIP calculator India, EMI calculator, GST calculator, PPF calculator FY 2025-26, FD calculator, EPF calculator, salary breakup calculator, gratuity calculator, HRA calculator, capital gains tax 2025-26, FIRE calculator India">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<meta name="author" content="CalcBharat">
<meta name="language" content="English">
<meta name="revisit-after" content="7 days">
<link rel="canonical" href="https://calcbharat.org/" />
<link rel="sitemap" type="application/xml" href="/sitemap.xml">

<!-- ═══ OPEN GRAPH ═══ -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://calcbharat.org/">
<meta property="og:title" content="CalcBharat – India's #1 FY 2025-26 Financial Calculator Hub">
<meta property="og:description" content="Income Tax, SIP, EMI, GST, PPF, FD and 20+ free FY 2025-26 financial calculators in INR.">
<meta property="og:image" content="https://calcbharat.org/og-image.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:site_name" content="CalcBharat">
<meta property="og:locale" content="en_IN">

<!-- ═══ TWITTER CARD ═══ -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="CalcBharat – India's #1 FY 2025-26 Financial Calculator Hub">
<meta name="twitter:description" content="Income Tax, SIP, EMI, GST, PPF, FD and 20+ free FY 2025-26 calculators in INR.">
<meta name="twitter:image" content="https://calcbharat.org/og-image.png">
<meta name="twitter:site" content="@CalcBharat">

<!-- ═══ STRUCTURED DATA ═══ -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "CalcBharat",
  "url": "https://calcbharat.org/",
  "description": "India's most accurate FY 2025-26 financial calculator hub.",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://calcbharat.org/?search={search_term_string}",
    "query-input": "required name=search_term_string"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CalcBharat",
    "url": "https://calcbharat.org/",
    "logo": { "@type": "ImageObject", "url": "https://calcbharat.org/og-image.png" }
  }
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is the income tax slab for FY 2025-26 under new regime?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "FY 2025-26 new regime: Up to 4L Nil, 4-8L 5%, 8-12L 10%, 12-16L 15%, 16-20L 20%, 20-24L 25%, above 24L 30%. Standard deduction Rs75000. Rebate u/s 87A for income up to Rs12 lakh."
      }
    },
    {
      "@type": "Question",
      "name": "What is the PPF interest rate for FY 2025-26?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The PPF interest rate for FY 2025-26 is 7.1% per annum, compounded annually. Maximum deposit is Rs1.5 lakh per year."
      }
    },
    {
      "@type": "Question",
      "name": "How is gratuity calculated in India in FY 2025-26?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Gratuity = (Last Basic Salary x 15 x Years of Service) / 26. The tax-exempt limit is Rs20 lakh for private sector employees."
      }
    },
    {
      "@type": "Question",
      "name": "How to calculate EMI for home loan in India?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "EMI = P x r x (1+r)^n / ((1+r)^n - 1), where P = principal, r = monthly interest rate, n = tenure in months."
      }
    }
  ]
}
</script>

<!-- ═══ FAVICON ═══ -->
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%23FF6B00'/><text y='.9em' font-size='80' x='10'>&#127470;&#127475;</text></svg>">
<meta name="theme-color" content="#FF6B00">

<!-- ═══ FONTS ═══ -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&display=swap" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&display=swap"></noscript>

<style>
:root {
  --saffron: #FF6B00; --saffron-light: #FF8C33;
  --green: #00A550; --green-dark: #007A3D;
  --navy: #0A0F2E; --navy2: #12193D;
  --card: #161D40; --card2: #1E2650;
  --text: #E8EAF6; --muted: #8892B0;
  --white: #ffffff; --border: rgba(255,107,0,0.15);
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Syne', system-ui, sans-serif; background: var(--navy); color: var(--text); min-height: 100vh; overflow-x: hidden; }
body::before {
  content: ''; position: fixed; inset: 0;
  background: radial-gradient(ellipse 80% 60% at 10% 10%, rgba(255,107,0,0.08) 0%, transparent 60%),
              radial-gradient(ellipse 60% 50% at 90% 80%, rgba(0,165,80,0.07) 0%, transparent 60%);
  pointer-events: none; z-index: 0;
}
header {
  position: sticky; top: 0; z-index: 100;
  background: rgba(10,15,46,0.95); backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border);
  padding: 0 clamp(1rem,5vw,4rem);
  display: flex; align-items: center; justify-content: space-between; height: 64px;
}
.logo { display: flex; align-items: center; gap: 10px; text-decoration: none; }
.logo-icon { width: 38px; height: 38px; border-radius: 10px; background: linear-gradient(135deg, var(--saffron), var(--green)); display: grid; place-items: center; font-size: 20px; }
.logo-text { font-weight: 800; font-size: 1.3rem; color: var(--white); }
.logo-text span { color: var(--saffron); }
.fy-badge { background: rgba(255,107,0,0.15); border: 1px solid rgba(255,107,0,0.4); color: var(--saffron); font-size: 0.68rem; font-weight: 700; padding: 2px 8px; border-radius: 100px; margin-left: 8px; }
nav { display: flex; gap: 1.5rem; align-items: center; }
nav a { color: var(--muted); text-decoration: none; font-size: 0.88rem; transition: color .2s; }
nav a:hover { color: var(--saffron); }
.hero { position: relative; z-index: 1; text-align: center; padding: clamp(3rem,8vw,5rem) 1rem 2rem; }
.hero-badge { display: inline-flex; align-items: center; gap: 6px; background: rgba(255,107,0,0.1); border: 1px solid rgba(255,107,0,0.3); border-radius: 100px; padding: 4px 14px; font-size: 0.8rem; color: var(--saffron); margin-bottom: 1.5rem; }
.hero h1 { font-weight: 800; font-size: clamp(1.8rem,5vw,3.5rem); line-height: 1.1; color: var(--white); margin-bottom: 1rem; }
.hero h1 em { color: var(--saffron); font-style: normal; }
.hero p { color: var(--muted); font-size: 1rem; max-width: 560px; margin: 0 auto 1.5rem; }
.hero-disclaimer { display: inline-block; background: rgba(0,165,80,0.1); border: 1px solid rgba(0,165,80,0.3); color: var(--green); font-size: 0.75rem; padding: 4px 14px; border-radius: 100px; margin-bottom: 1.5rem; }
.search-wrap { max-width: 500px; margin: 0 auto 1rem; position: relative; }
.search-wrap input { width: 100%; padding: 14px 50px 14px 20px; background: var(--card); border: 1px solid var(--border); border-radius: 12px; color: var(--white); font-size: 1rem; outline: none; font-family: inherit; transition: border .2s; }
.search-wrap input:focus { border-color: var(--saffron); }
.search-wrap input::placeholder { color: var(--muted); }
.search-icon { position: absolute; right: 16px; top: 50%; transform: translateY(-50%); color: var(--muted); pointer-events: none; }
.section { position: relative; z-index: 1; padding: 2rem clamp(1rem,5vw,4rem); }
.chips { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 2rem; }
.chip { padding: 6px 16px; border-radius: 100px; font-size: 0.85rem; cursor: pointer; border: 1px solid var(--border); background: transparent; color: var(--muted); transition: all .2s; white-space: nowrap; }
.chip:hover, .chip.active { background: var(--saffron); border-color: var(--saffron); color: #fff; }
.calc-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(270px, 1fr)); gap: 1rem; }
.calc-card { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 1.4rem; cursor: pointer; transition: all .25s; position: relative; overflow: hidden; contain: layout style; }
.calc-card::before { content: ''; position: absolute; inset: 0; background: linear-gradient(135deg, rgba(255,107,0,0.05), transparent); opacity: 0; transition: opacity .25s; }
.calc-card:hover { transform: translateY(-3px); border-color: rgba(255,107,0,0.4); box-shadow: 0 12px 40px rgba(0,0,0,0.3); }
.calc-card:hover::before { opacity: 1; }
.card-top { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 0.75rem; }
.card-icon { width: 44px; height: 44px; border-radius: 12px; display: grid; place-items: center; font-size: 20px; }
.new-tag { background: rgba(0,165,80,0.2); color: var(--green); font-size: 0.65rem; font-weight: 700; padding: 2px 7px; border-radius: 100px; border: 1px solid rgba(0,165,80,0.3); }
.calc-card h3 { font-weight: 700; font-size: 0.95rem; margin-bottom: 5px; }
.calc-card p { color: var(--muted); font-size: 0.8rem; line-height: 1.5; }
.card-tag { display: inline-block; margin-top: 10px; padding: 2px 10px; border-radius: 100px; font-size: 0.7rem; font-weight: 500; }
.card-fy { font-size: 0.65rem; color: var(--green); margin-top: 4px; display: block; }
.modal-overlay { position: fixed; inset: 0; z-index: 200; background: rgba(5,8,20,0.85); backdrop-filter: blur(8px); display: none; align-items: center; justify-content: center; padding: 1rem; }
.modal-overlay.open { display: flex; }
.modal { background: var(--card2); border: 1px solid var(--border); border-radius: 20px; width: 100%; max-width: 700px; max-height: 92vh; overflow-y: auto; position: relative; animation: slideUp .3s ease; will-change: transform, opacity; }
@keyframes slideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
.modal-header { padding: 1.25rem 1.5rem 1rem; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; gap: 1rem; position: sticky; top: 0; background: var(--card2); z-index: 10; border-radius: 20px 20px 0 0; }
.modal-header h2 { font-weight: 700; font-size: 1.15rem; }
.modal-fy-badge { background: rgba(0,165,80,0.15); color: var(--green); font-size: 0.68rem; font-weight: 700; padding: 3px 9px; border-radius: 100px; border: 1px solid rgba(0,165,80,0.3); white-space: nowrap; }
.modal-close { background: none; border: none; color: var(--muted); cursor: pointer; font-size: 1.4rem; padding: 4px; line-height: 1; }
.modal-close:hover { color: var(--white); }
.modal-body { padding: 1.5rem; }
.modal-disclaimer { background: rgba(255,107,0,0.07); border: 1px solid rgba(255,107,0,0.2); border-radius: 10px; padding: 8px 12px; font-size: 0.74rem; color: var(--muted); margin-bottom: 1.25rem; }
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
@media(max-width:500px) { .form-grid { grid-template-columns: 1fr; } }
.form-group { display: flex; flex-direction: column; gap: 6px; }
.form-group label { font-size: 0.8rem; color: var(--muted); font-weight: 500; }
.form-group input, .form-group select { background: var(--navy); border: 1px solid var(--border); border-radius: 10px; padding: 10px 14px; color: var(--white); font-size: 0.92rem; font-family: inherit; outline: none; transition: border .2s; }
.form-group input:focus, .form-group select:focus { border-color: var(--saffron); }
.form-group input::placeholder { color: var(--muted); }
.form-group select option { background: var(--navy2); }
.calc-btn { width: 100%; margin-top: 1.25rem; padding: 13px; background: linear-gradient(135deg, var(--saffron), var(--saffron-light)); border: none; border-radius: 12px; color: #fff; font-family: inherit; font-weight: 700; font-size: 1rem; cursor: pointer; transition: opacity .2s; }
.calc-btn:hover { opacity: 0.9; }
.result-box { margin-top: 1.25rem; padding: 1.25rem; background: var(--navy); border: 1px solid rgba(0,165,80,0.25); border-radius: 14px; display: none; }
.result-box.show { display: block; }
.result-title { font-size: 0.78rem; color: var(--muted); margin-bottom: 0.5rem; }
.result-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(130px,1fr)); gap: 1rem; margin-top: 0.5rem; }
.result-item { text-align: center; }
.result-item .label { font-size: 0.74rem; color: var(--muted); margin-bottom: 4px; }
.result-item .value { font-weight: 700; font-size: 1.25rem; color: var(--green); }
.result-item .value.accent { color: var(--saffron); }
.result-item .value.white { color: var(--white); }
.result-item .value.blue { color: #7D9AFF; }
.compare-box { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem; }
.compare-col { background: var(--card); border-radius: 12px; padding: 1rem; border: 1px solid var(--border); }
.compare-col h4 { font-size: 0.82rem; color: var(--saffron); margin-bottom: 0.75rem; font-weight: 700; }
.compare-row { display: flex; justify-content: space-between; font-size: 0.78rem; padding: 4px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
.compare-row:last-child { border-bottom: none; font-weight: 700; color: var(--green); }
.seo-section { position: relative; z-index: 1; padding: 3rem clamp(1rem,5vw,4rem) 2rem; border-top: 1px solid var(--border); margin-top: 1rem; content-visibility: auto; contain-intrinsic-size: 0 800px; }
.seo-inner { max-width: 1200px; margin: 0 auto; }
.seo-intro h2 { font-weight: 700; font-size: 1.4rem; color: var(--white); margin-bottom: 1rem; }
.seo-intro p { color: var(--muted); font-size: 0.92rem; line-height: 1.75; max-width: 800px; margin-bottom: 0.75rem; }
.seo-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 1.25rem; margin: 2rem 0; }
.seo-card { background: var(--card); border: 1px solid var(--border); border-radius: 14px; padding: 1.25rem; }
.seo-card h3 { font-weight: 700; font-size: 0.92rem; color: var(--white); margin-bottom: 0.6rem; }
.seo-card p { color: var(--muted); font-size: 0.8rem; line-height: 1.65; }
.seo-faq h2 { font-weight: 700; font-size: 1.3rem; color: var(--white); margin-bottom: 1.25rem; margin-top: 2rem; }
.faq-item { margin-bottom: 1.25rem; padding-bottom: 1.25rem; border-bottom: 1px solid var(--border); }
.faq-item:last-child { border-bottom: none; }
.faq-item h3 { font-weight: 600; font-size: 0.92rem; color: var(--saffron); margin-bottom: 0.5rem; }
.faq-item p { color: var(--muted); font-size: 0.82rem; line-height: 1.7; }
footer { position: relative; z-index: 1; text-align: center; padding: 3rem 1rem 2rem; color: var(--muted); font-size: 0.85rem; border-top: 1px solid var(--border); margin-top: 3rem; }
footer strong { color: var(--saffron); }
.footer-links { display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; margin-bottom: 1.5rem; }
.footer-links a { color: var(--muted); text-decoration: none; font-size: 0.8rem; transition: color .2s; }
.footer-links a:hover { color: var(--saffron); }
.color-invest { background: rgba(0,165,80,0.12); }
.color-invest .card-icon { background: rgba(0,165,80,0.2); }
.color-invest .card-tag { background: rgba(0,165,80,0.15); color: var(--green); }
.color-loan { background: rgba(255,107,0,0.07); }
.color-loan .card-icon { background: rgba(255,107,0,0.15); }
.color-loan .card-tag { background: rgba(255,107,0,0.15); color: var(--saffron); }
.color-tax { background: rgba(90,120,255,0.07); }
.color-tax .card-icon { background: rgba(90,120,255,0.15); }
.color-tax .card-tag { background: rgba(90,120,255,0.15); color: #7D9AFF; }
.color-saving { background: rgba(220,160,0,0.07); }
.color-saving .card-icon { background: rgba(220,160,0,0.15); }
.color-saving .card-tag { background: rgba(220,160,0,0.15); color: #FFD047; }
.color-general { background: rgba(180,100,255,0.07); }
.color-general .card-icon { background: rgba(180,100,255,0.15); }
.color-general .card-tag { background: rgba(180,100,255,0.15); color: #C080FF; }
.color-new { background: rgba(0,165,80,0.07); border-color: rgba(0,165,80,0.25) !important; }
.color-new .card-icon { background: rgba(0,165,80,0.15); }
.color-new .card-tag { background: rgba(0,165,80,0.2); color: var(--green); }
.back-top { position: fixed; bottom: 24px; right: 24px; z-index: 50; width: 44px; height: 44px; border-radius: 50%; background: var(--saffron); border: none; color: #fff; font-size: 1.2rem; cursor: pointer; display: none; box-shadow: 0 4px 16px rgba(255,107,0,0.4); transition: opacity .2s; }
.back-top.show { display: grid; place-items: center; }
.back-top:hover { opacity: 0.85; }
@media(max-width:640px) { nav { display: none; } .compare-box { grid-template-columns: 1fr; } }
</style>
</head>
<body>

<header>
  <a class="logo" href="#" aria-label="CalcBharat Home">
    <div class="logo-icon">&#127470;&#127475;</div>
    <div class="logo-text">Calc<span>Bharat</span><span class="fy-badge">FY 2025-26</span></div>
  </a>
  <nav>
    <a href="#tax-section" onclick="scrollAndFilter('tax')">Tax</a>
    <a href="#invest-section" onclick="scrollAndFilter('invest')">Investment</a>
    <a href="#loan-section" onclick="scrollAndFilter('loan')">Loans</a>
    <a href="#savings-section" onclick="scrollAndFilter('saving')">Savings</a>
    <a href="#new-section" onclick="scrollAndFilter('new')">&#128293; New</a>
    <a href="#about">About</a>
  </nav>
</header>

<div class="hero">
  <div class="hero-badge">&#127919; India's Most Accurate FY 2025-26 Calculator Hub</div>
  <h1>All Indian Calculators<br><em>Strictly FY 2025-26</em> Compliant</h1>
  <p>Free, accurate Indian financial calculators in INR — strictly updated for FY 2025-26 tax slabs, rates, and rules. 25+ calculators, always free.</p>
  <div class="hero-disclaimer">&#10003; All calculators updated for FY 2025-26 (AY 2026-27)</div>
  <div class="search-wrap">
    <input type="text" id="searchInput" placeholder="Search calculators... e.g. Income Tax, SIP, Gratuity" oninput="filterCalcs()">
    <span class="search-icon">&#128269;</span>
  </div>
</div>

<div class="section">
  <div class="chips">
    <button class="chip active" onclick="filterChip(this,'all')">All</button>
    <button class="chip" onclick="filterChip(this,'tax')">&#129534; Tax</button>
    <button class="chip" onclick="filterChip(this,'invest')">&#128200; Investment</button>
    <button class="chip" onclick="filterChip(this,'loan')">&#127968; Loans &amp; EMI</button>
    <button class="chip" onclick="filterChip(this,'saving')">&#128176; Savings</button>
    <button class="chip" onclick="filterChip(this,'new')">&#128293; New Tools</button>
    <button class="chip" onclick="filterChip(this,'general')">&#128290; General</button>
  </div>
  <!-- Anchor targets for nav links — outside calcGrid so JS renderCards() doesn't destroy them -->
  <div id="tax-section" style="position:relative;top:-80px;visibility:hidden;height:0"></div>
  <div id="invest-section" style="position:relative;top:-80px;visibility:hidden;height:0"></div>
  <div id="loan-section" style="position:relative;top:-80px;visibility:hidden;height:0"></div>
  <div id="savings-section" style="position:relative;top:-80px;visibility:hidden;height:0"></div>
  <div id="new-section" style="position:relative;top:-80px;visibility:hidden;height:0"></div>
  <div class="calc-grid" id="calcGrid">
    <div class="calc-card color-tax" id="tax-section" onclick="openCalc('income_tax')"><div class="card-top"><div class="card-icon">&#129534;</div></div><h3>Income Tax Calculator</h3><p>Old vs New regime comparison. FY 2025-26 slabs with surcharge and cess.</p><span class="card-tag">Tax</span><span class="card-fy">&#10003; FY 2025-26</span></div>
    <div class="calc-card color-tax" onclick="openCalc('capital_gains')"><div class="card-top"><div class="card-icon">&#128201;</div><span class="new-tag">NEW</span></div><h3>Capital Gains Tax</h3><p>Equity LTCG/STCG, debt funds, real estate. Post-2023 rules applied.</p><span class="card-tag">Tax</span><span class="card-fy">&#10003; FY 2025-26</span></div>
    <div class="calc-card color-tax" onclick="openCalc('hra')"><div class="card-top"><div class="card-icon">&#127969;</div><span class="new-tag">NEW</span></div><h3>HRA Calculator</h3><p>HRA exemption using least-of-three rule. Metro and non-metro.</p><span class="card-tag">Tax</span><span class="card-fy">&#10003; FY 2025-26</span></div>
    <div class="calc-card color-tax" onclick="openCalc('planner_80c')"><div class="card-top"><div class="card-icon">&#128203;</div><span class="new-tag">NEW</span></div><h3>80C Planner</h3><p>Optimize Rs1.5L deduction. Shows tax savings under both regimes.</p><span class="card-tag">Tax</span><span class="card-fy">&#10003; FY 2025-26</span></div>
    <div class="calc-card color-tax" onclick="openCalc('gst')"><div class="card-top"><div class="card-icon">&#128203;</div></div><h3>GST Calculator</h3><p>Add or remove GST — 0%, 5%, 12%, 18%, 28%. CGST/SGST split.</p><span class="card-tag">Tax</span></div>
    <div class="calc-card color-invest" id="invest-section" onclick="openCalc('sip')"><div class="card-top"><div class="card-icon">&#128200;</div></div><h3>SIP Calculator</h3><p>Monthly SIP returns with future value and wealth gain estimate.</p><span class="card-tag">Investment</span></div>
    <div class="calc-card color-invest" onclick="openCalc('lumpsum')"><div class="card-top"><div class="card-icon">&#128185;</div></div><h3>Lumpsum Calculator</h3><p>One-time investment growth at expected return rate over time.</p><span class="card-tag">Investment</span></div>
    <div class="calc-card color-invest" onclick="openCalc('swp')"><div class="card-top"><div class="card-icon">&#128260;</div></div><h3>SWP Calculator</h3><p>Systematic Withdrawal Plan — how long your corpus lasts.</p><span class="card-tag">Investment</span></div>
    <div class="calc-card color-invest" onclick="openCalc('mf')"><div class="card-top"><div class="card-icon">&#127974;</div></div><h3>Mutual Fund Returns</h3><p>Returns based on NAV and time period. Absolute return and CAGR.</p><span class="card-tag">Investment</span></div>
    <div class="calc-card color-invest" onclick="openCalc('xirr')"><div class="card-top"><div class="card-icon">&#128202;</div></div><h3>XIRR Calculator</h3><p>Annualised return on irregular SIP cashflows.</p><span class="card-tag">Investment</span></div>
    <div class="calc-card color-new" id="new-section" onclick="openCalc('fire')"><div class="card-top"><div class="card-icon">&#128293;</div><span class="new-tag">NEW</span></div><h3>FIRE Calculator</h3><p>Financial Independence Retire Early — corpus and timeline.</p><span class="card-tag">New Tool</span><span class="card-fy">&#10003; FY 2025-26</span></div>
    <div class="calc-card color-new" onclick="openCalc('retirement')"><div class="card-top"><div class="card-icon">&#129490;</div><span class="new-tag">NEW</span></div><h3>Retirement Planner</h3><p>Inflation-adjusted corpus with safe withdrawal rate.</p><span class="card-tag">New Tool</span><span class="card-fy">&#10003; FY 2025-26</span></div>
    <div class="calc-card color-new" onclick="openCalc('salary_breakup')"><div class="card-top"><div class="card-icon">&#128188;</div><span class="new-tag">NEW</span></div><h3>Salary Breakup Calculator</h3><p>CTC to in-hand. PF, professional tax, income tax deductions.</p><span class="card-tag">New Tool</span><span class="card-fy">&#10003; FY 2025-26</span></div>
    <div class="calc-card color-new" onclick="openCalc('gratuity')"><div class="card-top"><div class="card-icon">&#127885;</div><span class="new-tag">NEW</span></div><h3>Gratuity Calculator</h3><p>Gratuity amount and tax exemption as per FY 2025-26 rules.</p><span class="card-tag">New Tool</span><span class="card-fy">&#10003; FY 2025-26</span></div>
    <div class="calc-card color-new" onclick="openCalc('inflation')"><div class="card-top"><div class="card-icon">&#128201;</div><span class="new-tag">NEW</span></div><h3>Inflation Calculator</h3><p>Purchasing power decline based on India CPI assumption.</p><span class="card-tag">New Tool</span></div>
    <div class="calc-card color-saving" id="savings-section" onclick="openCalc('ppf')"><div class="card-top"><div class="card-icon">&#127963;</div></div><h3>PPF Calculator</h3><p>PPF maturity at 7.1% p.a. Max Rs1.5L/year. FY 2025-26 rate.</p><span class="card-tag">Savings</span><span class="card-fy">&#10003; FY 2025-26</span></div>
    <div class="calc-card color-saving" onclick="openCalc('epf')"><div class="card-top"><div class="card-icon">&#128119;</div></div><h3>EPF Calculator</h3><p>EPF corpus at 8.15% with EPS pension estimate. FY 2025-26.</p><span class="card-tag">Savings</span><span class="card-fy">&#10003; FY 2025-26</span></div>
    <div class="calc-card color-saving" onclick="openCalc('ssy')"><div class="card-top"><div class="card-icon">&#128103;</div></div><h3>Sukanya Samriddhi Yojana</h3><p>SSY maturity at 8.2% p.a. Girl child savings scheme.</p><span class="card-tag">Savings</span><span class="card-fy">&#10003; FY 2025-26</span></div>
    <div class="calc-card color-saving" onclick="openCalc('nps')"><div class="card-top"><div class="card-icon">&#127974;</div><span class="new-tag">NEW</span></div><h3>NPS Calculator</h3><p>NPS corpus with 80CCD(1), 80CCD(1B), 80CCD(2) tax benefits.</p><span class="card-tag">Savings</span><span class="card-fy">&#10003; FY 2025-26</span></div>
    <div class="calc-card color-saving" onclick="openCalc('fd')"><div class="card-top"><div class="card-icon">&#127975;</div></div><h3>FD Calculator</h3><p>Fixed Deposit maturity with quarterly/annual compounding.</p><span class="card-tag">Savings</span></div>
    <div class="calc-card color-saving" onclick="openCalc('rd')"><div class="card-top"><div class="card-icon">&#128197;</div></div><h3>RD Calculator</h3><p>Recurring Deposit maturity with monthly contribution.</p><span class="card-tag">Savings</span></div>
    <div class="calc-card color-loan" id="loan-section" onclick="openCalc('home_emi')"><div class="card-top"><div class="card-icon">&#127968;</div></div><h3>Home Loan EMI</h3><p>Monthly EMI with amortization and prepayment impact.</p><span class="card-tag">Loan</span></div>
    <div class="calc-card color-loan" onclick="openCalc('personal_emi')"><div class="card-top"><div class="card-icon">&#128100;</div></div><h3>Personal Loan EMI</h3><p>Quick personal loan EMI and total interest calculator.</p><span class="card-tag">Loan</span></div>
    <div class="calc-card color-loan" onclick="openCalc('car_emi')"><div class="card-top"><div class="card-icon">&#128663;</div></div><h3>Car Loan EMI</h3><p>Car loan EMI, total interest and total cost.</p><span class="card-tag">Loan</span></div>
    <div class="calc-card color-loan" onclick="openCalc('loan_eligibility')"><div class="card-top"><div class="card-icon">&#10004;</div><span class="new-tag">NEW</span></div><h3>Loan Eligibility</h3><p>Max loan amount based on income and FOIR (40-50%).</p><span class="card-tag">Loan</span></div>
    <div class="calc-card color-general" onclick="openCalc('age')"><div class="card-top"><div class="card-icon">&#127874;</div></div><h3>Age Calculator</h3><p>Exact age in years, months and days.</p><span class="card-tag">General</span></div>
  </div>
</div>

<!-- MODAL -->
<div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
  <div class="modal">
    <div class="modal-header">
      <h2 id="modalTitle"></h2>
      <span class="modal-fy-badge" id="modalFyBadge" style="display:none">&#10003; FY 2025-26</span>
      <button class="modal-close" onclick="closeModalDirect()">&#10005;</button>
    </div>
    <div class="modal-body" id="modalBody"></div>
  </div>
</div>

<!-- SEO CONTENT -->
<section class="seo-section" id="about">
  <div class="seo-inner">
    <div class="seo-intro">
      <h2>India's Most Accurate FY 2025-26 Financial Calculator Hub</h2>
      <p>CalcBharat is India's free online financial calculator platform strictly updated for Financial Year 2025-26 (Assessment Year 2026-27). Every calculator follows the latest income tax slabs, PPF/SSY/EPF interest rates, and government regulations for FY 2025-26. No login required. No charges. Always free.</p>
      <p>All calculations are based on FY 2025-26 rules. Please verify critical figures with official government notifications before making financial decisions.</p>
    </div>
    <div class="seo-grid">
      <div class="seo-card"><h3>Income Tax Calculator FY 2025-26</h3><p>New regime slabs: up to Rs4L nil, Rs4-8L at 5%, Rs8-12L at 10%, with rebate u/s 87A making income up to Rs12.75L effectively tax-free. Old vs New regime comparison with surcharge and 4% cess included.</p></div>
      <div class="seo-card"><h3>Salary Breakup &amp; Gratuity FY 2025-26</h3><p>Convert CTC to in-hand salary with PF, professional tax, and income tax deductions. Gratuity calculator uses the formula (Salary x 15 x Years)/26 with Rs20 lakh tax-exempt limit as per FY 2025-26 rules.</p></div>
      <div class="seo-card"><h3>SIP &amp; Investment Calculators</h3><p>Calculate SIP returns, lumpsum growth, SWP withdrawal, mutual fund CAGR, and XIRR on irregular cashflows. All investment calculators use standard financial formulas suitable for Indian mutual fund investors.</p></div>
      <div class="seo-card"><h3>EMI &amp; Loan Eligibility</h3><p>EMI calculators for home, car, and personal loans. New loan eligibility calculator estimates max loan based on income and FOIR (Fixed Obligation to Income Ratio) of 40-50% as used by Indian banks.</p></div>
      <div class="seo-card"><h3>PPF, EPF &amp; SSY — FY 2025-26 Rates</h3><p>PPF at 7.1% p.a., EPF at 8.15% p.a., SSY at 8.2% p.a. — all updated for FY 2025-26. EPF calculator includes EPS pension estimate. PPF supports extension block logic (5/10 year extensions).</p></div>
      <div class="seo-card"><h3>FIRE &amp; Retirement Planning</h3><p>FIRE calculator helps estimate the corpus needed for financial independence using the 4% safe withdrawal rate. Retirement planner considers inflation, life expectancy, and corpus drawdown for Indian investors.</p></div>
    </div>
    <div class="seo-faq">
      <h2>Frequently Asked Questions — FY 2025-26</h2>
      <div class="faq-item"><h3>What are the income tax slabs for FY 2025-26 under the new regime?</h3><p>New regime FY 2025-26: Up to Rs4 lakh — Nil; Rs4-8 lakh — 5%; Rs8-12 lakh — 10%; Rs12-16 lakh — 15%; Rs16-20 lakh — 20%; Rs20-24 lakh — 25%; Above Rs24 lakh — 30%. Standard deduction of Rs75,000 applies. Section 87A rebate makes income up to Rs12 lakh tax-free (in-hand up to Rs12.75 lakh).</p></div>
      <div class="faq-item"><h3>What is the PPF interest rate for FY 2025-26?</h3><p>The PPF interest rate is 7.1% per annum for FY 2025-26, compounded annually. Maximum deposit allowed is Rs1.5 lakh per financial year. PPF remains one of the best tax-free investment options under Section 80C.</p></div>
      <div class="faq-item"><h3>How is gratuity calculated in FY 2025-26?</h3><p>Gratuity = (Last Basic Salary x 15 x Years of Service) / 26. For private sector employees, gratuity up to Rs20 lakh is exempt from income tax as per FY 2025-26 rules. Gratuity is payable after 5 years of continuous service.</p></div>
      <div class="faq-item"><h3>What is the LTCG tax rate on equity in FY 2025-26?</h3><p>Long Term Capital Gains (LTCG) on equity and equity mutual funds above Rs1.25 lakh are taxed at 12.5%. Short Term Capital Gains (STCG) are taxed at 20%. Debt mutual fund gains are taxed as per income tax slab without indexation benefit (post-April 2023 rule).</p></div>
    </div>
  </div>
</section>

<footer>
  <div class="footer-links">
    <a href="#tax-section">Tax Calculators</a>
    <a href="#invest-section">Investment Calculators</a>
    <a href="#loan-section">Loan Calculators</a>
    <a href="#savings-section">Savings Calculators</a>
    <a href="#new-section">New Tools</a>
    <a href="#about">About</a>
    <a href="/privacy-policy.html">Privacy Policy</a>
    <a href="/disclaimer.html">Disclaimer</a>
  </div>
  <p>Made with love for <strong>Bharat</strong> &middot; All calculations are based on FY 2025-26 rules &middot; Not financial advice</p>
  <p style="margin-top:6px;font-size:0.75rem;">&copy; 2026 CalcBharat &middot; Free to use &middot; <a href="https://calcbharat.org/" style="color:var(--saffron);text-decoration:none;">calcbharat.org</a></p>
  <p style="margin-top:6px;font-size:0.72rem;color:var(--muted);">Last Updated: FY 2025-26 &middot; <a href="#" onclick="openCalc('income_tax');return false;" style="color:var(--muted);">Income Tax</a> &middot; <a href="#" onclick="openCalc('sip');return false;" style="color:var(--muted);">SIP</a> &middot; <a href="#" onclick="openCalc('home_emi');return false;" style="color:var(--muted);">EMI</a> &middot; <a href="#" onclick="openCalc('gst');return false;" style="color:var(--muted);">GST</a> &middot; <a href="#" onclick="openCalc('gratuity');return false;" style="color:var(--muted);">Gratuity</a> &middot; <a href="#" onclick="openCalc('salary_breakup');return false;" style="color:var(--muted);">Salary</a> &middot; <a href="#" onclick="openCalc('fire');return false;" style="color:var(--muted);">FIRE</a> &middot; <a href="#" onclick="openCalc('capital_gains');return false;" style="color:var(--muted);">Capital Gains</a></p>
</footer>

<script>
const calculators = [
  { id:'income_tax', name:'Income Tax Calculator', desc:'Old vs New regime FY 2025-26 with surcharge and cess comparison.', icon:'&#129534;', cat:'tax', tag:'Tax', fy:true },
  { id:'capital_gains', name:'Capital Gains Tax', desc:'Equity LTCG/STCG, debt funds, real estate. Post-2023 rules.', icon:'&#128201;', cat:'tax', tag:'Tax', fy:true, isNew:true },
  { id:'hra', name:'HRA Calculator', desc:'HRA exemption using least-of-three rule. Metro and non-metro.', icon:'&#127969;', cat:'tax', tag:'Tax', fy:true, isNew:true },
  { id:'planner_80c', name:'80C Planner', desc:'Optimize Rs1.5L deduction. Shows tax savings under both regimes.', icon:'&#128203;', cat:'tax', tag:'Tax', fy:true, isNew:true },
  { id:'gst', name:'GST Calculator', desc:'Add or remove GST — 0%, 5%, 12%, 18%, 28%. CGST/SGST split.', icon:'&#128203;', cat:'tax', tag:'Tax', fy:false },
  { id:'sip', name:'SIP Calculator', desc:'Monthly SIP returns with future value and wealth gain estimate.', icon:'&#128200;', cat:'invest', tag:'Investment', fy:false },
  { id:'lumpsum', name:'Lumpsum Calculator', desc:'One-time investment growth at expected rate over time.', icon:'&#128185;', cat:'invest', tag:'Investment', fy:false },
  { id:'swp', name:'SWP Calculator', desc:'Systematic Withdrawal Plan — how long your corpus lasts.', icon:'&#128260;', cat:'invest', tag:'Investment', fy:false },
  { id:'mf', name:'Mutual Fund Returns', desc:'Returns based on NAV and time period. Absolute return and CAGR.', icon:'&#127974;', cat:'invest', tag:'Investment', fy:false },
  { id:'xirr', name:'XIRR Calculator', desc:'Annualised return on irregular SIP cashflows.', icon:'&#128202;', cat:'invest', tag:'Investment', fy:false },
  { id:'fire', name:'FIRE Calculator', desc:'Financial Independence Retire Early — corpus and timeline.', icon:'&#128293;', cat:'new', tag:'New Tool', fy:true, isNew:true },
  { id:'retirement', name:'Retirement Planner', desc:'Inflation-adjusted corpus with safe withdrawal rate.', icon:'&#129490;', cat:'new', tag:'New Tool', fy:true, isNew:true },
  { id:'salary_breakup', name:'Salary Breakup Calculator', desc:'CTC to in-hand. PF, professional tax, income tax deductions.', icon:'&#128188;', cat:'new', tag:'New Tool', fy:true, isNew:true },
  { id:'gratuity', name:'Gratuity Calculator', desc:'Gratuity amount and tax exemption as per FY 2025-26.', icon:'&#127885;', cat:'new', tag:'New Tool', fy:true, isNew:true },
  { id:'inflation', name:'Inflation Calculator', desc:'Purchasing power decline based on India CPI assumption.', icon:'&#128201;', cat:'new', tag:'New Tool', fy:false, isNew:true },
  { id:'nps', name:'NPS Calculator', desc:'NPS corpus with 80CCD tax benefits. FY 2025-26.', icon:'&#127974;', cat:'saving', tag:'Savings', fy:true, isNew:true },
  { id:'ppf', name:'PPF Calculator', desc:'PPF maturity at 7.1% p.a. Max Rs1.5L/year. FY 2025-26.', icon:'&#127963;', cat:'saving', tag:'Savings', fy:true },
  { id:'epf', name:'EPF Calculator', desc:'EPF corpus at 8.15% with EPS pension. FY 2025-26.', icon:'&#128119;', cat:'saving', tag:'Savings', fy:true },
  { id:'ssy', name:'Sukanya Samriddhi Yojana', desc:'SSY maturity at 8.2% p.a. Girl child scheme.', icon:'&#128103;', cat:'saving', tag:'Savings', fy:true },
  { id:'fd', name:'FD Calculator', desc:'Fixed Deposit maturity with quarterly/annual compounding.', icon:'&#127975;', cat:'saving', tag:'Savings', fy:false },
  { id:'rd', name:'RD Calculator', desc:'Recurring Deposit maturity with monthly contribution.', icon:'&#128197;', cat:'saving', tag:'Savings', fy:false },
  { id:'home_emi', name:'Home Loan EMI', desc:'Monthly EMI with amortization and prepayment impact.', icon:'&#127968;', cat:'loan', tag:'Loan', fy:false },
  { id:'personal_emi', name:'Personal Loan EMI', desc:'Quick personal loan EMI and total interest.', icon:'&#128100;', cat:'loan', tag:'Loan', fy:false },
  { id:'car_emi', name:'Car Loan EMI', desc:'Car loan EMI, total interest and total cost.', icon:'&#128663;', cat:'loan', tag:'Loan', fy:false },
  { id:'loan_eligibility', name:'Loan Eligibility', desc:'Max loan amount based on income and FOIR (40-50%).', icon:'&#10004;', cat:'loan', tag:'Loan', fy:false, isNew:true },
  { id:'age', name:'Age Calculator', desc:'Exact age in years, months and days.', icon:'&#127874;', cat:'general', tag:'General', fy:false },
];

function catClass(c){ return {invest:'color-invest',loan:'color-loan',tax:'color-tax',saving:'color-saving',general:'color-general',new:'color-new'}[c]||'color-invest'; }
function renderCards(list){
  document.getElementById('calcGrid').innerHTML = list.map(c=>`
    <div class="calc-card ${catClass(c.cat)}" onclick="openCalc('${c.id}')">
      <div class="card-top"><div class="card-icon">${c.icon}</div>${c.isNew?'<span class="new-tag">NEW</span>':''}</div>
      <h3>${c.name}</h3><p>${c.desc}</p>
      <span class="card-tag">${c.tag}</span>${c.fy?'<span class="card-fy">&#10003; FY 2025-26</span>':''}
    </div>`).join('');
}
renderCards(calculators);
let activeChip='all';
function filterChip(el,cat){ document.querySelectorAll('.chip').forEach(c=>c.classList.remove('active')); el.classList.add('active'); activeChip=cat; applyFilter(); }
function filterCalcs(){ applyFilter(); }
function applyFilter(){
  const q=document.getElementById('searchInput').value.toLowerCase();
  let list=calculators;
  if(activeChip!=='all') list=list.filter(c=>c.cat===activeChip);
  if(q) list=list.filter(c=>c.name.toLowerCase().includes(q)||c.desc.toLowerCase().includes(q));
  renderCards(list);
}

const fmt=n=>'Rs'+Math.round(n).toLocaleString('en-IN');
function v(id){ return document.getElementById(id)?.value; }
const DISC=`<div class="modal-disclaimer">&#9888; Calculations are based on FY 2025-26 rules. Please verify with official government notifications before making financial decisions.</div>`;

function showResult(id,items){
  const box=document.getElementById(id); if(!box) return;
  box.className='result-box show';
  box.innerHTML=`<div class="result-title">&#128202; Result — As per FY 2025-26 rules</div><div class="result-grid">`+
    items.map(i=>`<div class="result-item"><div class="label">${i.label}</div><div class="value ${i.cls||''}">${i.val}</div></div>`).join('')+`</div>`;
}

function emiForm(pre,lbl,rate,yrs,amt){
  return `${DISC}<div class="form-grid">
    <div class="form-group"><label>Loan Amount (Rs)</label><input id="${pre}_amt" type="number" value="${amt}"></div>
    <div class="form-group"><label>Interest Rate (% p.a.)</label><input id="${pre}_rate" type="number" value="${rate}" step="0.05"></div>
    <div class="form-group"><label>Tenure (Years)</label><input id="${pre}_yrs" type="number" value="${yrs}"></div>
    <div class="form-group"><label>Prepayment (Rs, optional)</label><input id="${pre}_pre" type="number" value="0"></div>
  </div>
  <button class="calc-btn" onclick="calcEMI('${pre}')">Calculate EMI</button>
  <div class="result-box" id="${pre}_res"></div>`;
}
function calcEMI(pre){
  const P=+v(pre+'_amt'),r=+v(pre+'_rate')/12/100,n=+v(pre+'_yrs')*12,prepay=+v(pre+'_pre')||0;
  const emi=P*r*Math.pow(1+r,n)/(Math.pow(1+r,n)-1), total=emi*n;
  const newP=Math.max(0,P-prepay), newTotal=newP*r*Math.pow(1+r,n)/(Math.pow(1+r,n)-1)*n;
  showResult(pre+'_res',[
    {label:'Monthly EMI',val:fmt(emi),cls:''},
    {label:'Total Interest',val:fmt(total-P),cls:'accent'},
    {label:'Total Payment',val:fmt(total),cls:'white'},
    {label:'Interest Saved (Prepay)',val:fmt(prepay>0?(total-P)-(newTotal-newP):0),cls:'blue'},
  ]);
}

function calcNewTax(income){
  const taxable=Math.max(0,income-75000);
  if(taxable<=400000) return 0;
  const s=[[400000,0],[400000,.05],[400000,.10],[400000,.15],[400000,.20],[400000,.25],[Infinity,.30]];
  let tax=0,rem=taxable; for(const[l,r] of s){if(rem<=0)break;const c=l===Infinity?rem:Math.min(rem,l);tax+=c*r;rem-=c;}
  if(income<=1200000) tax=0; return tax;
}
function calcOldTax(taxable){
  if(taxable<=250000) return 0;
  const s=[[250000,0],[250000,.05],[500000,.20],[Infinity,.30]];
  let tax=0,rem=taxable; for(const[l,r] of s){if(rem<=0)break;const c=l===Infinity?rem:Math.min(rem,l);tax+=c*r;rem-=c;}
  if(taxable<=500000) tax=0; return tax;
}
function getSurcharge(tax,income){
  if(income>50000000) return tax*0.37;
  if(income>20000000) return tax*0.25;
  if(income>10000000) return tax*0.15;
  if(income>5000000) return tax*0.10;
  return 0;
}

const calcs = {
  income_tax:{
    title:'Income Tax Calculator – FY 2025-26',fy:true,
    render:()=>`${DISC}<div class="form-grid">
      <div class="form-group"><label>Annual Income (Rs)</label><input id="tax_inc" type="number" value="1000000"></div>
      <div class="form-group"><label>Section 80C (Rs, Old Regime)</label><input id="tax_80c" type="number" value="150000"></div>
      <div class="form-group"><label>HRA Exemption (Rs, Old Regime)</label><input id="tax_hra" type="number" value="0"></div>
      <div class="form-group"><label>Other Deductions (Rs)</label><input id="tax_other" type="number" value="0"></div>
    </div>
    <button class="calc-btn" onclick="calcTax()">Compare Old vs New Regime</button>
    <div class="result-box" id="tax_res"></div>`,
    calc:()=>{
      const inc=+v('tax_inc'),c80=Math.min(+v('tax_80c'),150000),hra=+v('tax_hra'),oth=+v('tax_other');
      const nTax=calcNewTax(inc),nSur=getSurcharge(nTax,inc),nCess=(nTax+nSur)*0.04,nTotal=nTax+nSur+nCess;
      const oTaxable=Math.max(0,inc-50000-c80-hra-oth),oTax=calcOldTax(oTaxable),oSur=getSurcharge(oTax,inc),oCess=(oTax+oSur)*0.04,oTotal=oTax+oSur+oCess;
      const box=document.getElementById('tax_res'); box.className='result-box show';
      box.innerHTML=`<div class="result-title">Old vs New Regime — FY 2025-26</div>
      <div class="compare-box">
        <div class="compare-col"><h4>New Regime</h4>
          <div class="compare-row"><span>Taxable Income</span><span>${fmt(Math.max(0,inc-75000))}</span></div>
          <div class="compare-row"><span>Income Tax</span><span>${fmt(nTax)}</span></div>
          <div class="compare-row"><span>Surcharge</span><span>${fmt(nSur)}</span></div>
          <div class="compare-row"><span>Cess (4%)</span><span>${fmt(nCess)}</span></div>
          <div class="compare-row"><span>Total Tax</span><span>${fmt(nTotal)}</span></div>
        </div>
        <div class="compare-col"><h4>Old Regime</h4>
          <div class="compare-row"><span>Taxable Income</span><span>${fmt(oTaxable)}</span></div>
          <div class="compare-row"><span>Income Tax</span><span>${fmt(oTax)}</span></div>
          <div class="compare-row"><span>Surcharge</span><span>${fmt(oSur)}</span></div>
          <div class="compare-row"><span>Cess (4%)</span><span>${fmt(oCess)}</span></div>
          <div class="compare-row"><span>Total Tax</span><span>${fmt(oTotal)}</span></div>
        </div>
      </div>
      <div style="margin-top:1rem;padding:0.75rem;background:rgba(0,165,80,0.1);border-radius:10px;text-align:center;font-size:0.85rem;">
        ${nTotal<oTotal?`&#9989; New Regime saves you ${fmt(oTotal-nTotal)}`:`&#9989; Old Regime saves you ${fmt(nTotal-oTotal)}`}
      </div>`;
    }
  },

  capital_gains:{
    title:'Capital Gains Tax – FY 2025-26',fy:true,
    render:()=>`${DISC}<div class="form-grid">
      <div class="form-group"><label>Asset Type</label>
        <select id="cg_type"><option value="eq_ltcg">Equity LTCG (held &gt;1 year)</option><option value="eq_stcg">Equity STCG (held &le;1 year)</option><option value="debt">Debt Fund (post-April 2023)</option><option value="realestate">Real Estate</option></select>
      </div>
      <div class="form-group"><label>Purchase Price (Rs)</label><input id="cg_buy" type="number" value="500000"></div>
      <div class="form-group"><label>Sale Price (Rs)</label><input id="cg_sell" type="number" value="800000"></div>
      <div class="form-group"><label>Your Tax Slab</label><select id="cg_slab"><option value="5">5%</option><option value="10">10%</option><option value="20">20%</option><option value="30" selected>30%</option></select></div>
    </div>
    <button class="calc-btn" onclick="calcCG()">Calculate Capital Gains Tax</button>
    <div class="result-box" id="cg_res"></div>`,
    calc:()=>{
      const type=v('cg_type'),buy=+v('cg_buy'),sell=+v('cg_sell'),slab=+v('cg_slab')/100;
      const gain=sell-buy; let tax=0,rate=0,note='';
      if(type==='eq_ltcg'){rate=0.125;tax=Math.max(0,gain-125000)*rate;note='LTCG on equity: 12.5% above Rs1.25L exemption. No indexation.';}
      else if(type==='eq_stcg'){rate=0.20;tax=Math.max(0,gain)*rate;note='STCG on equity: 20% flat rate.';}
      else if(type==='debt'){rate=slab;tax=Math.max(0,gain)*slab;note='Debt funds post-April 2023: Taxed at income slab rate. No indexation.';}
      else{const indexed=buy*1.15;rate=0.125;tax=Math.max(0,sell-indexed)*rate;note='Real estate LTCG: 12.5% without indexation.';}
      const cess=tax*0.04;
      showResult('cg_res',[
        {label:'Capital Gain',val:fmt(gain),cls:'white'},
        {label:'Tax Rate',val:(rate*100).toFixed(1)+'%',cls:'white'},
        {label:'Capital Gains Tax',val:fmt(tax),cls:'accent'},
        {label:'Cess (4%)',val:fmt(cess),cls:'white'},
        {label:'Total Tax Payable',val:fmt(tax+cess),cls:''},
      ]);
      document.getElementById('cg_res').innerHTML+=`<div style="margin-top:0.75rem;font-size:0.75rem;color:var(--muted);">i ${note}</div>`;
    }
  },

  hra:{
    title:'HRA Exemption Calculator – FY 2025-26',fy:true,
    render:()=>`${DISC}<div class="form-grid">
      <div class="form-group"><label>Basic Salary (Monthly Rs)</label><input id="hra_basic" type="number" value="40000"></div>
      <div class="form-group"><label>HRA Received (Monthly Rs)</label><input id="hra_recv" type="number" value="20000"></div>
      <div class="form-group"><label>Rent Paid (Monthly Rs)</label><input id="hra_rent" type="number" value="18000"></div>
      <div class="form-group"><label>City Type</label><select id="hra_city"><option value="0.5">Metro (Delhi/Mumbai/Chennai/Kolkata)</option><option value="0.4">Non-Metro</option></select></div>
    </div>
    <button class="calc-btn" onclick="calcHRA()">Calculate HRA Exemption</button>
    <div class="result-box" id="hra_res"></div>`,
    calc:()=>{
      const basic=+v('hra_basic')*12,recv=+v('hra_recv')*12,rent=+v('hra_rent')*12,pct=+v('hra_city');
      const a=recv,b=basic*pct,c=Math.max(0,rent-basic*0.1),exempt=Math.min(a,b,c);
      showResult('hra_res',[
        {label:'Annual HRA Received',val:fmt(recv),cls:'white'},
        {label:'Actual HRA (a)',val:fmt(a),cls:'white'},
        {label:(pct*100)+'% of Basic (b)',val:fmt(b),cls:'white'},
        {label:'Rent-10% Basic (c)',val:fmt(c),cls:'white'},
        {label:'HRA Exempt (Min a,b,c)',val:fmt(exempt),cls:''},
        {label:'Taxable HRA',val:fmt(recv-exempt),cls:'accent'},
      ]);
    }
  },

  planner_80c:{
    title:'80C Deduction Planner – FY 2025-26',fy:true,
    render:()=>`${DISC}<div class="form-grid">
      <div class="form-group"><label>Annual Income (Rs)</label><input id="p80_inc" type="number" value="1200000"></div>
      <div class="form-group"><label>EPF Contribution (Rs)</label><input id="p80_epf" type="number" value="50000"></div>
      <div class="form-group"><label>ELSS/Mutual Funds (Rs)</label><input id="p80_elss" type="number" value="50000"></div>
      <div class="form-group"><label>LIC Premium (Rs)</label><input id="p80_lic" type="number" value="20000"></div>
      <div class="form-group"><label>PPF Contribution (Rs)</label><input id="p80_ppf" type="number" value="30000"></div>
      <div class="form-group"><label>Other 80C (Rs)</label><input id="p80_other" type="number" value="0"></div>
    </div>
    <button class="calc-btn" onclick="calc80C()">Calculate 80C Tax Saving</button>
    <div class="result-box" id="p80_res"></div>`,
    calc:()=>{
      const inc=+v('p80_inc'),total=+v('p80_epf')+ +v('p80_elss')+ +v('p80_lic')+ +v('p80_ppf')+ +v('p80_other');
      const claimed=Math.min(total,150000),remaining=Math.max(0,150000-claimed);
      const oldTaxNoD=calcOldTax(Math.max(0,inc-50000))*1.04;
      const oldTaxD=calcOldTax(Math.max(0,inc-50000-claimed))*1.04;
      showResult('p80_res',[
        {label:'Total 80C Investments',val:fmt(total),cls:'white'},
        {label:'Claimed (Max Rs1.5L)',val:fmt(claimed),cls:''},
        {label:'Remaining Limit',val:fmt(remaining),cls:remaining>0?'accent':'white'},
        {label:'Tax Saved (Old Regime)',val:fmt(Math.max(0,oldTaxNoD-oldTaxD)),cls:''},
        {label:'Effective Return on 80C',val:claimed>0?((oldTaxNoD-oldTaxD)/claimed*100).toFixed(1)+'%':'0%',cls:'blue'},
      ]);
      if(remaining>0) document.getElementById('p80_res').innerHTML+=`<div style="margin-top:0.75rem;font-size:0.75rem;color:var(--saffron);">Tip: You can invest Rs${Math.round(remaining).toLocaleString('en-IN')} more to maximize your 80C deduction!</div>`;
    }
  },

  gst:{
    title:'GST Calculator',fy:false,
    render:()=>`<div class="form-grid">
      <div class="form-group"><label>Amount (Rs)</label><input id="gst_amt" type="number" value="10000"></div>
      <div class="form-group"><label>GST Rate</label><select id="gst_rate"><option value="0">0%</option><option value="5">5%</option><option value="12">12%</option><option value="18" selected>18%</option><option value="28">28%</option></select></div>
      <div class="form-group"><label>Type</label><select id="gst_type"><option value="add">Add GST (Excl to Incl)</option><option value="remove">Remove GST (Incl to Excl)</option></select></div>
    </div>
    <button class="calc-btn" onclick="calcGST()">Calculate GST</button>
    <div class="result-box" id="gst_res"></div>`,
    calc:()=>{
      const amt=+v('gst_amt'),rate=+v('gst_rate')/100,type=v('gst_type');
      let gstAmt,pre,total;
      if(type==='add'){pre=amt;gstAmt=amt*rate;total=amt+gstAmt;}
      else{total=amt;pre=rate>0?amt/(1+rate):amt;gstAmt=total-pre;}
      const half=gstAmt/2,hr=(rate*50).toFixed(0);
      showResult('gst_res',[
        {label:'Base Amount',val:fmt(pre),cls:'white'},
        {label:`CGST (${hr}%)`,val:fmt(half),cls:'white'},
        {label:`SGST (${hr}%)`,val:fmt(half),cls:'white'},
        {label:'Total GST',val:fmt(gstAmt),cls:'accent'},
        {label:'Total Amount',val:fmt(total),cls:''},
      ]);
    }
  },

  sip:{title:'SIP Calculator',fy:false,render:()=>`<div class="form-grid">
    <div class="form-group"><label>Monthly Investment (Rs)</label><input id="sip_amt" type="number" value="5000"></div>
    <div class="form-group"><label>Annual Return (%)</label><input id="sip_rate" type="number" value="12" step="0.1"></div>
    <div class="form-group"><label>Duration (Years)</label><input id="sip_yrs" type="number" value="10"></div>
  </div><button class="calc-btn" onclick="calcSIP()">Calculate Returns</button><div class="result-box" id="sip_res"></div>`,
  calc:()=>{const P=+v('sip_amt'),r=+v('sip_rate')/12/100,n=+v('sip_yrs')*12,fv=P*((Math.pow(1+r,n)-1)/r)*(1+r),inv=P*n;showResult('sip_res',[{label:'Total Invested',val:fmt(inv),cls:'white'},{label:'Estimated Returns',val:fmt(fv-inv),cls:'accent'},{label:'Maturity Value',val:fmt(fv),cls:''},{label:'Wealth Gain',val:((fv/inv-1)*100).toFixed(1)+'%',cls:'blue'}]);}},

  lumpsum:{title:'Lumpsum Calculator',fy:false,render:()=>`<div class="form-grid">
    <div class="form-group"><label>Investment (Rs)</label><input id="ls_amt" type="number" value="100000"></div>
    <div class="form-group"><label>Annual Return (%)</label><input id="ls_rate" type="number" value="12" step="0.1"></div>
    <div class="form-group"><label>Duration (Years)</label><input id="ls_yrs" type="number" value="10"></div>
  </div><button class="calc-btn" onclick="calcLS()">Calculate</button><div class="result-box" id="ls_res"></div>`,
  calc:()=>{const P=+v('ls_amt'),r=+v('ls_rate')/100,n=+v('ls_yrs'),fv=P*Math.pow(1+r,n);showResult('ls_res',[{label:'Invested',val:fmt(P),cls:'white'},{label:'Gains',val:fmt(fv-P),cls:'accent'},{label:'Maturity Value',val:fmt(fv),cls:''},{label:'CAGR',val:(r*100).toFixed(1)+'%',cls:'blue'}]);}},

  swp:{title:'SWP Calculator',fy:false,render:()=>`<div class="form-grid">
    <div class="form-group"><label>Initial Corpus (Rs)</label><input id="swp_corp" type="number" value="1000000"></div>
    <div class="form-group"><label>Monthly Withdrawal (Rs)</label><input id="swp_wd" type="number" value="10000"></div>
    <div class="form-group"><label>Annual Return (%)</label><input id="swp_rate" type="number" value="8" step="0.1"></div>
    <div class="form-group"><label>Duration (Years)</label><input id="swp_yrs" type="number" value="10"></div>
  </div><button class="calc-btn" onclick="calcSWP()">Calculate</button><div class="result-box" id="swp_res"></div>`,
  calc:()=>{const P=+v('swp_corp'),W=+v('swp_wd'),r=+v('swp_rate')/12/100,n=+v('swp_yrs')*12;let corpus=P;for(let i=0;i<n;i++)corpus=corpus*(1+r)-W;showResult('swp_res',[{label:'Total Withdrawn',val:fmt(W*n),cls:'accent'},{label:'Remaining Corpus',val:fmt(Math.max(corpus,0)),cls:''},{label:'Corpus Exhausted?',val:corpus<0?'Yes':'No',cls:corpus<0?'accent':'white'}]);}},

  mf:{title:'Mutual Fund Returns',fy:false,render:()=>`<div class="form-grid">
    <div class="form-group"><label>Investment (Rs)</label><input id="mf_amt" type="number" value="100000"></div>
    <div class="form-group"><label>Purchase NAV (Rs)</label><input id="mf_bnav" type="number" value="25" step="0.01"></div>
    <div class="form-group"><label>Current NAV (Rs)</label><input id="mf_cnav" type="number" value="45" step="0.01"></div>
    <div class="form-group"><label>Period (Years)</label><input id="mf_yrs" type="number" value="3" step="0.5"></div>
  </div><button class="calc-btn" onclick="calcMF()">Calculate Returns</button><div class="result-box" id="mf_res"></div>`,
  calc:()=>{const amt=+v('mf_amt'),bn=+v('mf_bnav'),cn=+v('mf_cnav'),yrs=+v('mf_yrs'),curr=amt/bn*cn;showResult('mf_res',[{label:'Current Value',val:fmt(curr),cls:''},{label:'Profit/Loss',val:fmt(curr-amt),cls:'accent'},{label:'Absolute Return',val:((cn-bn)/bn*100).toFixed(2)+'%',cls:'white'},{label:'CAGR',val:((Math.pow(cn/bn,1/yrs)-1)*100).toFixed(2)+'%',cls:'blue'}]);}},

  xirr:{title:'XIRR Calculator',fy:false,render:()=>`<p style="color:var(--muted);font-size:.82rem;margin-bottom:1rem;">Negative = investment, Positive = return</p>
    <div class="form-group" style="margin-bottom:1rem"><label>Cashflows (Rs, comma-separated)</label><input id="xirr_cf" type="text" value="-10000,-10000,-10000,35000"></div>
    <div class="form-group" style="margin-bottom:1rem"><label>Dates (DD/MM/YYYY)</label><input id="xirr_dt" type="text" value="01/01/2022,01/07/2022,01/01/2023,01/01/2025"></div>
    <button class="calc-btn" onclick="calcXIRR()">Calculate XIRR</button><div class="result-box" id="xirr_res"></div>`,
  calc:()=>{
    const cfs=v('xirr_cf').split(',').map(Number),dts=v('xirr_dt').split(',').map(s=>{const[d,m,y]=s.trim().split('/');return new Date(y,m-1,d);});
    if(cfs.length!==dts.length){alert('Count must match');return;}
    const d0=dts[0];function npv(rate){return cfs.reduce((s,cf,i)=>s+cf/Math.pow(1+rate,(dts[i]-d0)/365),0);}
    let lo=-0.999,hi=10,mid=0;for(let i=0;i<200;i++){mid=(lo+hi)/2;npv(mid)>0?lo=mid:hi=mid;}
    showResult('xirr_res',[{label:'XIRR (Annualised)',val:(mid*100).toFixed(2)+'%',cls:''}]);
  }},

  fire:{
    title:'FIRE Calculator – FY 2025-26',fy:true,
    render:()=>`${DISC}<div class="form-grid">
      <div class="form-group"><label>Monthly Expenses (Rs)</label><input id="fire_exp" type="number" value="50000"></div>
      <div class="form-group"><label>Current Age</label><input id="fire_age" type="number" value="30"></div>
      <div class="form-group"><label>Target Retirement Age</label><input id="fire_ret" type="number" value="45"></div>
      <div class="form-group"><label>Current Savings (Rs)</label><input id="fire_sav" type="number" value="1000000"></div>
      <div class="form-group"><label>Monthly Investment (Rs)</label><input id="fire_inv" type="number" value="30000"></div>
      <div class="form-group"><label>Expected Return (%)</label><input id="fire_rr" type="number" value="12" step="0.1"></div>
      <div class="form-group"><label>Inflation Rate (%)</label><input id="fire_inf" type="number" value="6" step="0.1"></div>
      <div class="form-group"><label>Safe Withdrawal Rate (%)</label><input id="fire_swr" type="number" value="4" step="0.1"></div>
    </div>
    <button class="calc-btn" onclick="calcFIRE()">Calculate FIRE</button>
    <div class="result-box" id="fire_res"></div>`,
    calc:()=>{
      const exp=+v('fire_exp')*12,age=+v('fire_age'),ret=+v('fire_ret'),sav=+v('fire_sav'),inv=+v('fire_inv');
      const rr=+v('fire_rr')/100,inf=+v('fire_inf')/100,swr=+v('fire_swr')/100;
      const yrs=ret-age,futureExp=exp*Math.pow(1+inf,yrs),fireCorpus=futureExp/swr;
      const r=rr/12,n=yrs*12,sipFV=inv*((Math.pow(1+r,n)-1)/r)*(1+r),savFV=sav*Math.pow(1+rr,yrs);
      const proj=sipFV+savFV,taxAdj=fireCorpus*1.1;
      showResult('fire_res',[
        {label:'FIRE Corpus Needed',val:fmt(fireCorpus),cls:''},
        {label:'Tax-Adjusted Target',val:fmt(taxAdj),cls:'accent'},
        {label:'Projected Corpus',val:fmt(proj),cls:'white'},
        {label:'Gap/Surplus',val:fmt(proj-taxAdj),cls:proj>=taxAdj?'blue':'accent'},
        {label:'Monthly Exp at Retirement',val:fmt(futureExp/12),cls:'white'},
        {label:'Years to FIRE',val:yrs+' yrs',cls:'blue'},
      ]);
      document.getElementById('fire_res').innerHTML+=`<div style="margin-top:0.75rem;padding:0.75rem;background:rgba(0,165,80,0.08);border-radius:10px;text-align:center;font-size:0.85rem;">${proj>=taxAdj?'You are on track for FIRE!':'You need '+fmt(taxAdj-proj)+' more corpus.'}</div>`;
    }
  },

  retirement:{
    title:'Retirement Planner – FY 2025-26',fy:true,
    render:()=>`${DISC}<div class="form-grid">
      <div class="form-group"><label>Current Age</label><input id="rp_age" type="number" value="35"></div>
      <div class="form-group"><label>Retirement Age</label><input id="rp_ret" type="number" value="60"></div>
      <div class="form-group"><label>Life Expectancy</label><input id="rp_life" type="number" value="85"></div>
      <div class="form-group"><label>Monthly Expenses Today (Rs)</label><input id="rp_exp" type="number" value="40000"></div>
      <div class="form-group"><label>Current Savings (Rs)</label><input id="rp_sav" type="number" value="500000"></div>
      <div class="form-group"><label>Monthly Investment (Rs)</label><input id="rp_inv" type="number" value="20000"></div>
      <div class="form-group"><label>Pre-Retirement Return (%)</label><input id="rp_prer" type="number" value="12" step="0.1"></div>
      <div class="form-group"><label>Post-Retirement Return (%)</label><input id="rp_postr" type="number" value="7" step="0.1"></div>
      <div class="form-group"><label>Inflation Rate (%)</label><input id="rp_inf" type="number" value="6" step="0.1"></div>
    </div>
    <button class="calc-btn" onclick="calcRetirement()">Plan My Retirement</button>
    <div class="result-box" id="rp_res"></div>`,
    calc:()=>{
      const age=+v('rp_age'),ret=+v('rp_ret'),life=+v('rp_life'),exp=+v('rp_exp')*12,sav=+v('rp_sav'),inv=+v('rp_inv');
      const prer=+v('rp_prer')/100,postr=+v('rp_postr')/100,inf=+v('rp_inf')/100;
      const accYrs=ret-age,drawYrs=life-ret,futureExp=exp*Math.pow(1+inf,accYrs);
      const rr=(1+postr)/(1+inf)-1,corpusNeeded=rr>0?futureExp*(1-Math.pow(1+rr,-drawYrs))/rr:futureExp*drawYrs;
      const r=prer/12,n=accYrs*12,sipFV=inv*((Math.pow(1+r,n)-1)/r)*(1+r),savFV=sav*Math.pow(1+prer,accYrs);
      const proj=sipFV+savFV;
      showResult('rp_res',[
        {label:'Corpus Required',val:fmt(corpusNeeded),cls:''},
        {label:'Projected Corpus',val:fmt(proj),cls:'white'},
        {label:'Gap / Surplus',val:fmt(proj-corpusNeeded),cls:proj>=corpusNeeded?'blue':'accent'},
        {label:'Monthly Exp at Retirement',val:fmt(futureExp/12),cls:'white'},
        {label:'Accumulation Phase',val:accYrs+' years',cls:'blue'},
        {label:'Drawdown Phase',val:drawYrs+' years',cls:'blue'},
      ]);
    }
  },

  salary_breakup:{
    title:'Salary Breakup Calculator – FY 2025-26',fy:true,
    render:()=>`${DISC}<div class="form-grid">
      <div class="form-group"><label>Annual CTC (Rs)</label><input id="sb_ctc" type="number" value="1200000"></div>
      <div class="form-group"><label>Basic (% of CTC)</label><input id="sb_basic_pct" type="number" value="40" step="1"></div>
      <div class="form-group"><label>HRA (% of Basic)</label><input id="sb_hra_pct" type="number" value="50" step="1"></div>
      <div class="form-group"><label>Professional Tax (Rs/year)</label><input id="sb_pt" type="number" value="2400"></div>
      <div class="form-group"><label>Tax Regime</label><select id="sb_reg"><option value="new" selected>New Regime</option><option value="old">Old Regime</option></select></div>
    </div>
    <button class="calc-btn" onclick="calcSalary()">Calculate In-Hand Salary</button>
    <div class="result-box" id="sb_res"></div>`,
    calc:()=>{
      const ctc=+v('sb_ctc'),basicPct=+v('sb_basic_pct')/100,hraPct=+v('sb_hra_pct')/100,pt=+v('sb_pt'),reg=v('sb_reg');
      const basic=ctc*basicPct,hra=basic*hraPct,pfEmployee=Math.min(basic,180000)*0.12,pfEmployer=pfEmployee;
      const gross=ctc-pfEmployer;
      const incomeTax=reg==='new'?calcNewTax(gross)*1.04:calcOldTax(Math.max(0,gross-50000))*1.04;
      const inHand=gross-pfEmployee-pt-incomeTax;
      showResult('sb_res',[
        {label:'Annual CTC',val:fmt(ctc),cls:'white'},
        {label:'Gross Salary',val:fmt(gross),cls:'white'},
        {label:'Basic',val:fmt(basic),cls:'white'},
        {label:'HRA',val:fmt(hra),cls:'white'},
        {label:'PF (Employee)',val:fmt(pfEmployee),cls:'accent'},
        {label:'Professional Tax',val:fmt(pt),cls:'accent'},
        {label:'Income Tax',val:fmt(incomeTax),cls:'accent'},
        {label:'Annual In-Hand',val:fmt(inHand),cls:''},
        {label:'Monthly In-Hand',val:fmt(inHand/12),cls:'blue'},
      ]);
    }
  },

  gratuity:{
    title:'Gratuity Calculator – FY 2025-26',fy:true,
    render:()=>`${DISC}<div class="form-grid">
      <div class="form-group"><label>Last Basic + DA (Monthly Rs)</label><input id="gr_sal" type="number" value="50000"></div>
      <div class="form-group"><label>Years of Service</label><input id="gr_yrs" type="number" value="10" step="0.5"></div>
      <div class="form-group"><label>Employee Type</label><select id="gr_type"><option value="26">Covered under Gratuity Act (/26)</option><option value="30">Not Covered (/30)</option></select></div>
    </div>
    <button class="calc-btn" onclick="calcGratuity()">Calculate Gratuity</button>
    <div class="result-box" id="gr_res"></div>`,
    calc:()=>{
      const sal=+v('gr_sal'),yrs=+v('gr_yrs'),div=+v('gr_type');
      const gratuity=(sal*15*yrs)/div,exempt=Math.min(gratuity,2000000),taxable=Math.max(0,gratuity-exempt);
      showResult('gr_res',[
        {label:'Gratuity Amount',val:fmt(gratuity),cls:''},
        {label:'Tax-Exempt (Max Rs20L)',val:fmt(exempt),cls:'white'},
        {label:'Taxable Gratuity',val:fmt(taxable),cls:taxable>0?'accent':'white'},
        {label:'Formula',val:`(${sal.toLocaleString('en-IN')}x15x${yrs})/${div}`,cls:'blue'},
      ]);
      document.getElementById('gr_res').innerHTML+=`<div style="margin-top:0.75rem;font-size:0.75rem;color:var(--muted);">Gratuity payable after 5 years of continuous service. Exempt limit Rs20 lakh as per FY 2025-26.</div>`;
    }
  },

  inflation:{title:'Inflation Calculator (India)',fy:false,render:()=>`<div class="form-grid">
    <div class="form-group"><label>Current Amount (Rs)</label><input id="inf_amt" type="number" value="100000"></div>
    <div class="form-group"><label>Inflation Rate (% p.a.)</label><input id="inf_rate" type="number" value="6" step="0.1"></div>
    <div class="form-group"><label>Years</label><input id="inf_yrs" type="number" value="10"></div>
  </div><button class="calc-btn" onclick="calcInflation()">Calculate Purchasing Power</button><div class="result-box" id="inf_res"></div>`,
  calc:()=>{const amt=+v('inf_amt'),rate=+v('inf_rate')/100,yrs=+v('inf_yrs'),future=amt*Math.pow(1+rate,yrs),power=amt/Math.pow(1+rate,yrs);showResult('inf_res',[{label:"Today's Amount",val:fmt(amt),cls:'white'},{label:'Amount Needed in Future',val:fmt(future),cls:'accent'},{label:'Purchasing Power Today',val:fmt(power),cls:''},{label:'Value Lost',val:fmt(amt-power),cls:'accent'},{label:'Inflation Erosion',val:((1-power/amt)*100).toFixed(1)+'%',cls:'white'}]);}},

  nps:{
    title:'NPS Calculator – FY 2025-26',fy:true,
    render:()=>`${DISC}<div class="form-grid">
      <div class="form-group"><label>Monthly Employee Contribution (Rs)</label><input id="nps_cont" type="number" value="5000"></div>
      <div class="form-group"><label>Monthly Employer Contribution (Rs)</label><input id="nps_emp" type="number" value="5000"></div>
      <div class="form-group"><label>Current Age</label><input id="nps_age" type="number" value="30"></div>
      <div class="form-group"><label>Expected Annual Return (%)</label><input id="nps_ret" type="number" value="10" step="0.1"></div>
      <div class="form-group"><label>Annuity Purchase (%)</label><input id="nps_ann" type="number" value="40" step="5"></div>
      <div class="form-group"><label>Tax Slab</label><select id="nps_slab"><option value="5">5%</option><option value="20">20%</option><option value="30" selected>30%</option></select></div>
    </div>
    <button class="calc-btn" onclick="calcNPS()">Calculate NPS Corpus</button>
    <div class="result-box" id="nps_res"></div>`,
    calc:()=>{
      const cont=+v('nps_cont'),emp=+v('nps_emp'),age=+v('nps_age'),ret=+v('nps_ret')/100,annPct=+v('nps_ann')/100,slab=+v('nps_slab')/100;
      const yrs=60-age,r=ret/12,n=yrs*12,total=(cont+emp),corpus=total*((Math.pow(1+r,n)-1)/r)*(1+r);
      const taxSaved80ccd1b=Math.min(cont*12,50000)*slab,taxSaved80ccd2=emp*12*slab;
      showResult('nps_res',[
        {label:'NPS Corpus at 60',val:fmt(corpus),cls:''},
        {label:'Tax-Free Lumpsum (60%)',val:fmt(corpus*(1-annPct)),cls:'white'},
        {label:'Annuity Corpus (40%)',val:fmt(corpus*annPct),cls:'white'},
        {label:'Tax Saved 80CCD(1B)',val:fmt(taxSaved80ccd1b),cls:'blue'},
        {label:'Tax Saved 80CCD(2)',val:fmt(taxSaved80ccd2),cls:'blue'},
        {label:'Investment Period',val:yrs+' years',cls:'white'},
      ]);
    }
  },

  ppf:{
    title:'PPF Calculator – FY 2025-26',fy:true,
    render:()=>`${DISC}<div class="form-grid">
      <div class="form-group"><label>Yearly Investment (Rs, max Rs1.5L)</label><input id="ppf_dep" type="number" value="150000" max="150000"></div>
      <div class="form-group"><label>Duration (Years, min 15)</label><input id="ppf_yrs" type="number" value="15" min="15"></div>
      <div class="form-group"><label>Interest Rate % (FY 2025-26: 7.1%)</label><input id="ppf_rate" type="number" value="7.1" step="0.1"></div>
      <div class="form-group"><label>Extension Blocks</label><select id="ppf_ext"><option value="0">No Extension</option><option value="1">+5 Years</option><option value="2">+10 Years</option></select></div>
    </div>
    <button class="calc-btn" onclick="calcPPF()">Calculate PPF Maturity</button>
    <div class="result-box" id="ppf_res"></div>`,
    calc:()=>{
      const dep=+v('ppf_dep'),yrs=+v('ppf_yrs'),r=+v('ppf_rate')/100,ext=+v('ppf_ext')*5,total=yrs+ext;
      let bal=0;for(let i=0;i<total;i++)bal=(bal+dep)*(1+r);
      showResult('ppf_res',[{label:'Total Invested',val:fmt(dep*total),cls:'white'},{label:'Interest Earned',val:fmt(bal-dep*total),cls:'accent'},{label:'Maturity Amount',val:fmt(bal),cls:''},{label:'Total Duration',val:total+' years',cls:'blue'}]);
    }
  },

  epf:{
    title:'EPF Calculator – FY 2025-26',fy:true,
    render:()=>`${DISC}<div class="form-grid">
      <div class="form-group"><label>Basic + DA (Monthly Rs)</label><input id="epf_sal" type="number" value="30000"></div>
      <div class="form-group"><label>Employee Contribution (%)</label><input id="epf_emp" type="number" value="12" step="0.5"></div>
      <div class="form-group"><label>Employer EPF Contribution (%)</label><input id="epf_er" type="number" value="3.67" step="0.1"></div>
      <div class="form-group"><label>Years to Retirement</label><input id="epf_yrs" type="number" value="30"></div>
      <div class="form-group"><label>EPF Rate % (FY 2025-26: 8.15%)</label><input id="epf_rate" type="number" value="8.15" step="0.05"></div>
      <div class="form-group"><label>Annual Salary Growth (%)</label><input id="epf_grow" type="number" value="5" step="0.5"></div>
    </div>
    <button class="calc-btn" onclick="calcEPF()">Calculate EPF Corpus</button>
    <div class="result-box" id="epf_res"></div>`,
    calc:()=>{
      let sal=+v('epf_sal'),empP=+v('epf_emp')/100,erP=+v('epf_er')/100;
      const yrs=+v('epf_yrs'),r=+v('epf_rate')/100,grow=+v('epf_grow')/100;
      let bal=0,total=0;
      for(let y=0;y<yrs;y++){const m=(sal*empP+sal*erP)*12;total+=m;bal=(bal+m)*(1+r);sal*=(1+grow);}
      const eps=Math.min(+v('epf_sal'),15000)*0.0833*12;
      showResult('epf_res',[{label:'Total Contribution',val:fmt(total),cls:'white'},{label:'Interest Earned',val:fmt(bal-total),cls:'accent'},{label:'EPF Corpus',val:fmt(bal),cls:''},{label:'Est. EPS Pension/yr',val:fmt(eps),cls:'blue'}]);
    }
  },

  ssy:{
    title:'SSY Calculator – FY 2025-26',fy:true,
    render:()=>`${DISC}<div class="form-grid">
      <div class="form-group"><label>Annual Deposit (Rs, max Rs1.5L)</label><input id="ssy_dep" type="number" value="50000" min="250" max="150000"></div>
      <div class="form-group"><label>Girl's Current Age</label><input id="ssy_age" type="number" value="5" min="0" max="10"></div>
      <div class="form-group"><label>Interest Rate % (FY 2025-26: 8.2%)</label><input id="ssy_rate" type="number" value="8.2" step="0.1"></div>
    </div>
    <p style="color:var(--muted);font-size:.78rem;margin-top:.5rem;">Deposits for 15 years, matures at age 21. Max Rs1.5L/year.</p>
    <button class="calc-btn" onclick="calcSSY()">Calculate Maturity</button>
    <div class="result-box" id="ssy_res"></div>`,
    calc:()=>{
      const dep=+v('ssy_dep'),age=+v('ssy_age'),rate=+v('ssy_rate')/100;
      let bal=0;for(let y=1;y<=15;y++)bal=(bal+dep)*(1+rate);
      const rem=Math.max(0,21-age-15);for(let y=0;y<rem;y++)bal*=(1+rate);
      showResult('ssy_res',[{label:'Total Deposited',val:fmt(dep*15),cls:'white'},{label:'Interest Earned',val:fmt(bal-dep*15),cls:'accent'},{label:'Maturity Amount',val:fmt(bal),cls:''}]);
    }
  },

  fd:{title:'FD Calculator',fy:false,render:()=>`<div class="form-grid">
    <div class="form-group"><label>Principal (Rs)</label><input id="fd_p" type="number" value="100000"></div>
    <div class="form-group"><label>Annual Rate (%)</label><input id="fd_r" type="number" value="7" step="0.1"></div>
    <div class="form-group"><label>Duration (Years)</label><input id="fd_y" type="number" value="3" step="0.5"></div>
    <div class="form-group"><label>Compounding</label><select id="fd_comp"><option value="1">Annual</option><option value="2">Half-Yearly</option><option value="4" selected>Quarterly</option><option value="12">Monthly</option></select></div>
  </div><button class="calc-btn" onclick="calcFD()">Calculate Maturity</button><div class="result-box" id="fd_res"></div>`,
  calc:()=>{const P=+v('fd_p'),r=+v('fd_r')/100,y=+v('fd_y'),n=+v('fd_comp'),A=P*Math.pow(1+r/n,n*y);showResult('fd_res',[{label:'Principal',val:fmt(P),cls:'white'},{label:'Interest Earned',val:fmt(A-P),cls:'accent'},{label:'Maturity Amount',val:fmt(A),cls:''}]);}},

  rd:{title:'RD Calculator',fy:false,render:()=>`<div class="form-grid">
    <div class="form-group"><label>Monthly Deposit (Rs)</label><input id="rd_m" type="number" value="5000"></div>
    <div class="form-group"><label>Annual Rate (%)</label><input id="rd_r" type="number" value="6.5" step="0.1"></div>
    <div class="form-group"><label>Duration (Months)</label><input id="rd_mo" type="number" value="36"></div>
  </div><button class="calc-btn" onclick="calcRD()">Calculate</button><div class="result-box" id="rd_res"></div>`,
  calc:()=>{const M=+v('rd_m'),r=+v('rd_r')/100/4,n=+v('rd_mo'),A=M*((Math.pow(1+r,n/3)-1)/(1-(Math.pow(1+r,-1/3)))),inv=M*n;showResult('rd_res',[{label:'Total Invested',val:fmt(inv),cls:'white'},{label:'Interest Earned',val:fmt(A-inv),cls:'accent'},{label:'Maturity Amount',val:fmt(A),cls:''}]);}},

  home_emi:{title:'Home Loan EMI Calculator',fy:false,render:()=>emiForm('home','Home Loan','8.5','20','5000000'),calc:()=>calcEMI('home')},
  personal_emi:{title:'Personal Loan EMI Calculator',fy:false,render:()=>emiForm('per','Personal Loan','12','5','500000'),calc:()=>calcEMI('per')},
  car_emi:{title:'Car Loan EMI Calculator',fy:false,render:()=>emiForm('car','Car Loan','9','7','800000'),calc:()=>calcEMI('car')},

  loan_eligibility:{
    title:'Loan Eligibility Calculator',fy:false,
    render:()=>`<div class="form-grid">
      <div class="form-group"><label>Monthly Net Income (Rs)</label><input id="le_inc" type="number" value="80000"></div>
      <div class="form-group"><label>Existing EMIs (Rs/month)</label><input id="le_emi" type="number" value="10000"></div>
      <div class="form-group"><label>FOIR</label><select id="le_foir"><option value="0.4">40% (Conservative)</option><option value="0.5" selected>50% (Standard)</option></select></div>
      <div class="form-group"><label>Interest Rate (% p.a.)</label><input id="le_rate" type="number" value="8.5" step="0.05"></div>
      <div class="form-group"><label>Tenure (Years)</label><input id="le_yrs" type="number" value="20"></div>
    </div>
    <button class="calc-btn" onclick="calcLoanElig()">Calculate Eligibility</button>
    <div class="result-box" id="le_res"></div>`,
    calc:()=>{
      const inc=+v('le_inc'),existEMI=+v('le_emi'),foir=+v('le_foir'),r=+v('le_rate')/12/100,n=+v('le_yrs')*12;
      const maxEMI=inc*foir-existEMI,maxLoan=maxEMI*(Math.pow(1+r,n)-1)/(r*Math.pow(1+r,n));
      showResult('le_res',[{label:'Max Eligible EMI',val:fmt(maxEMI),cls:'white'},{label:'Max Loan Amount',val:fmt(Math.max(0,maxLoan)),cls:''},{label:'Based on FOIR',val:(foir*100)+'%',cls:'blue'}]);
    }
  },

  age:{title:'Age Calculator',fy:false,render:()=>`<div class="form-grid">
    <div class="form-group"><label>Date of Birth</label><input id="age_dob" type="date" value="1990-06-15"></div>
    <div class="form-group"><label>Calculate Age On</label><input id="age_to" type="date" value="${new Date().toISOString().split('T')[0]}"></div>
  </div><button class="calc-btn" onclick="calcAge()">Calculate Age</button><div class="result-box" id="age_res"></div>`,
  calc:()=>{
    const dob=new Date(v('age_dob')),to=new Date(v('age_to'));
    let yrs=to.getFullYear()-dob.getFullYear(),mos=to.getMonth()-dob.getMonth(),days=to.getDate()-dob.getDate();
    if(days<0){mos--;days+=new Date(to.getFullYear(),to.getMonth(),0).getDate();}
    if(mos<0){yrs--;mos+=12;}
    showResult('age_res',[{label:'Years',val:yrs,cls:''},{label:'Months',val:mos,cls:'white'},{label:'Days',val:days,cls:'white'},{label:'Total Days',val:Math.floor((to-dob)/86400000).toLocaleString('en-IN'),cls:'accent'}]);
  }}
};

// Nav scroll + filter
function scrollAndFilter(cat) {
  // Activate correct chip
  const chipMap = {tax:1, invest:2, loan:3, saving:4, new:5};
  const chips = document.querySelectorAll('.chip');
  chips.forEach(c=>c.classList.remove('active'));
  if(chipMap[cat] !== undefined) chips[chipMap[cat]].classList.add('active');
  activeChip = cat; applyFilter();
}

// Global shortcuts
function calcSIP(){calcs.sip.calc();}function calcLS(){calcs.lumpsum.calc();}function calcSWP(){calcs.swp.calc();}
function calcMF(){calcs.mf.calc();}function calcXIRR(){calcs.xirr.calc();}function calcSSY(){calcs.ssy.calc();}
function calcPPF(){calcs.ppf.calc();}function calcEPF(){calcs.epf.calc();}function calcFD(){calcs.fd.calc();}
function calcRD(){calcs.rd.calc();}function calcTax(){calcs.income_tax.calc();}function calcGST(){calcs.gst.calc();}
function calcAge(){calcs.age.calc();}function calcCG(){calcs.capital_gains.calc();}function calcHRA(){calcs.hra.calc();}
function calc80C(){calcs.planner_80c.calc();}function calcFIRE(){calcs.fire.calc();}function calcRetirement(){calcs.retirement.calc();}
function calcSalary(){calcs.salary_breakup.calc();}function calcGratuity(){calcs.gratuity.calc();}
function calcInflation(){calcs.inflation.calc();}function calcNPS(){calcs.nps.calc();}function calcLoanElig(){calcs.loan_eligibility.calc();}

function openCalc(id){
  const c=calcs[id];if(!c)return;
  document.getElementById('modalTitle').textContent=c.title;
  document.getElementById('modalFyBadge').style.display=c.fy?'inline-block':'none';
  document.getElementById('modalBody').innerHTML=c.render();
  document.getElementById('modalOverlay').classList.add('open');
}
function closeModal(e){if(e.target===document.getElementById('modalOverlay'))closeModalDirect();}
function closeModalDirect(){document.getElementById('modalOverlay').classList.remove('open');}
document.addEventListener('keydown',e=>{if(e.key==='Escape')closeModalDirect();});
window.addEventListener('scroll',()=>{const b=document.getElementById('backTop');b.classList.toggle('show',window.scrollY>400);});
</script>

<button class="back-top" id="backTop" onclick="window.scrollTo({top:0,behavior:'smooth'})" aria-label="Back to top">&#8593;</button>

</body>
</html>
